# BÃO CÃO THUáº¬T TOÃN Há»† THá»NG PHÃ‚N TÃCH Báº¢N Äá»’ GIAO THÃ”NG

## ğŸ“‹ Má»¥c Lá»¥c
1. [Tá»•ng Quan Há»‡ Thá»‘ng](#tá»•ng-quan-há»‡-thá»‘ng)
2. [Danh SÃ¡ch Thuáº­t ToÃ¡n](#danh-sÃ¡ch-thuáº­t-toÃ¡n)
3. [Chi Tiáº¿t Thuáº­t ToÃ¡n](#chi-tiáº¿t-thuáº­t-toÃ¡n)
4. [PhÃ¢n TÃ­ch Äá»™ Phá»©c Táº¡p](#phÃ¢n-tÃ­ch-Ä‘á»™-phá»©c-táº¡p)
5. [Cáº¥u TrÃºc Dá»¯ Liá»‡u](#cáº¥u-trÃºc-dá»¯-liá»‡u)

---

## 1. Tá»•ng Quan Há»‡ Thá»‘ng

### 1.1 MÃ´ Táº£
Há»‡ thá»‘ng PhÃ¢n TÃ­ch Báº£n Äá»“ Giao ThÃ´ng lÃ  má»™t á»©ng dá»¥ng phÃ¢n tÃ­ch vÃ  tá»‘i Æ°u hÃ³a giao thÃ´ng Ä‘Ã´ thá»‹. Há»‡ thá»‘ng sá»­ dá»¥ng cÃ¡c thuáº­t toÃ¡n Ä‘á»“ thá»‹ vÃ  ká»¹ thuáº­t tá»‘i Æ°u hÃ³a Ä‘á»ƒ:
- TÃ¬m Ä‘Æ°á»ng Ä‘i ngáº¯n nháº¥t giá»¯a hai Ä‘iá»ƒm
- Gá»£i Ã½ tuyáº¿n Ä‘Æ°á»ng thay tháº¿ khi cÃ³ Ä‘oáº¡n Ä‘Æ°á»ng bá»‹ cháº·n
- PhÃ¡t hiá»‡n vÃ  tá»‘i Æ°u hÃ³a cÃ¡c tuyáº¿n Ä‘Æ°á»ng bá»‹ Ã¹n táº¯c
- Äá» xuáº¥t cÃ¡c giáº£i phÃ¡p xÃ¢y dá»±ng cÆ¡ sá»Ÿ háº¡ táº§ng

### 1.2 Kiáº¿n TrÃºc
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Lá»›p Giao Diá»‡n (UI)                       â”‚
â”‚              main.cpp / main_gui.cpp                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                         â”‚              â”‚            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ ShortestPath    â”‚   â”‚ AlternativeRoute  â”‚  â”‚ Traffic    â”‚  â”‚
â”‚  (Dijkstra)     â”‚   â”‚   (Dijkstra +     â”‚  â”‚Optimizationâ”‚  â”‚
â”‚                 â”‚   â”‚    Blocking)      â”‚  â”‚            â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                        â”‚              â”‚             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚     RoadMap        â”‚
           â”‚  (Cáº¥u trÃºc Ä‘á»“ thá»‹) â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 Äáº·c Äiá»ƒm ChÃ­nh
- **NgÃ´n ngá»¯**: C++17
- **ThÆ° viá»‡n Ä‘á»“ há»a**: SDL2 (cho phiÃªn báº£n GUI)
- **Cáº¥u trÃºc dá»¯ liá»‡u**: Äá»“ thá»‹ cÃ³ hÆ°á»›ng cÃ³ trá»ng sá»‘
- **Thuáº­t toÃ¡n chÃ­nh**: Dijkstra, DFS/BFS, Greedy Algorithm

---

## 2. Danh SÃ¡ch Thuáº­t ToÃ¡n

### 2.1 Thuáº­t ToÃ¡n Cá»‘t LÃµi

| STT | TÃªn Thuáº­t ToÃ¡n | File | Má»¥c Ä‘Ã­ch | Äá»™ phá»©c táº¡p |
|-----|----------------|------|----------|-------------|
| 1 | **Dijkstra** | ShortestPath.cpp | TÃ¬m Ä‘Æ°á»ng Ä‘i ngáº¯n nháº¥t | O((V+E) log V) |
| 2 | **Alternative Route Finding** | AlternativeRoute.cpp | TÃ¬m Ä‘Æ°á»ng thay tháº¿ | O((V+E) log V) |
| 3 | **Traffic Optimization** | TrafficOptimization.cpp | Tá»‘i Æ°u giao thÃ´ng | O(EÂ²) |
| 4 | **Congestion Detection** | TrafficOptimization.cpp | PhÃ¡t hiá»‡n Ã¹n táº¯c | O(E) |
| 5 | **Bypass Route Generation** | TrafficOptimization.cpp | Táº¡o Ä‘Æ°á»ng vÃ²ng | O(V Ã— E) |

Trong Ä‘Ã³:
- V = Sá»‘ lÆ°á»£ng nodes (Ä‘iá»ƒm giao lá»™)
- E = Sá»‘ lÆ°á»£ng edges (Ä‘oáº¡n Ä‘Æ°á»ng)

### 2.2 Thuáº­t ToÃ¡n Há»— Trá»£

| STT | TÃªn | Chá»©c nÄƒng | Äá»™ phá»©c táº¡p |
|-----|-----|-----------|-------------|
| 1 | **Budget Gap Calculation** | TÃ­nh thiáº¿u há»¥t ngÃ¢n sÃ¡ch | O(1) |
| 2 | **Proposal Selection** | Chá»n phÆ°Æ¡ng Ã¡n tá»‘t nháº¥t | O(n) |
| 3 | **Capacity Check** | Kiá»ƒm tra quÃ¡ táº£i | O(1) |
| 4 | **Adjacent Road Finding** | TÃ¬m Ä‘Æ°á»ng liá»n ká» táº¯c | O(E) |

---

## 3. Chi Tiáº¿t Thuáº­t ToÃ¡n

### 3.1 Thuáº­t ToÃ¡n Dijkstra (Shortest Path)

**File**: `ShortestPath.cpp`

**Má»¥c Ä‘Ã­ch**: TÃ¬m Ä‘Æ°á»ng Ä‘i ngáº¯n nháº¥t tá»« Ä‘iá»ƒm báº¯t Ä‘áº§u Ä‘áº¿n Ä‘iá»ƒm Ä‘Ã­ch dá»±a trÃªn thá»i gian di chuyá»ƒn.

**Äáº§u vÃ o**:
- `start`: Node báº¯t Ä‘áº§u (string)
- `goal`: Node Ä‘Ã­ch (string)
- `map`: Äá»“ thá»‹ giao thÃ´ng

**Äáº§u ra**:
- `outPath`: Vector chá»©a Ä‘Æ°á»ng Ä‘i (vector<string>)
- Thá»i gian di chuyá»ƒn (double)

**Thuáº­t toÃ¡n**:
```
1. Khá»Ÿi táº¡o:
   - dist[v] = âˆ cho táº¥t cáº£ nodes
   - dist[start] = 0
   - priority_queue pq (min-heap)

2. ThÃªm (0, start) vÃ o pq

3. While pq khÃ´ng rá»—ng:
   a. Láº¥y (d, u) tá»« pq
   b. Náº¿u d > dist[u]: skip
   c. For má»—i edge (u, v):
      - w = travelTime(edge)
      - Náº¿u dist[v] > dist[u] + w:
        * dist[v] = dist[u] + w
        * parent[v] = u
        * ThÃªm (dist[v], v) vÃ o pq

4. Truy váº¿t Ä‘Æ°á»ng Ä‘i tá»« goal vá» start qua parent
5. Äáº£o ngÆ°á»£c Ä‘Æ°á»ng Ä‘i
6. Tráº£ vá» dist[goal] vÃ  outPath
```

**Trá»ng sá»‘**: `travelTime = length / speed`

**Äáº·c Ä‘iá»ƒm**:
- Sá»­ dá»¥ng priority_queue (min-heap) Ä‘á»ƒ luÃ´n chá»n node cÃ³ khoáº£ng cÃ¡ch nhá» nháº¥t
- Xá»­ lÃ½ Ä‘á»“ thá»‹ cÃ³ hÆ°á»›ng vá»›i trá»ng sá»‘ dÆ°Æ¡ng
- An toÃ n vá»›i edges khÃ´ng tá»“n táº¡i trong parent map

**Äá»™ phá»©c táº¡p**:
- **Thá»i gian**: O((V + E) log V)
  - V láº§n pop tá»« priority queue: O(V log V)
  - E láº§n cáº­p nháº­t dist vÃ  push: O(E log V)
- **KhÃ´ng gian**: O(V) cho dist, parent, vÃ  priority queue

---

### 3.2 Thuáº­t ToÃ¡n Alternative Route (TÃ¬m ÄÆ°á»ng Thay Tháº¿)

**File**: `AlternativeRoute.cpp`

**Má»¥c Ä‘Ã­ch**: TÃ¬m Ä‘Æ°á»ng Ä‘i thay tháº¿ khi má»™t Ä‘oáº¡n Ä‘Æ°á»ng bá»‹ cháº·n hoáº·c táº¯c ngháº½n.

**Äáº§u vÃ o**:
- `blockedEdgeId`: ID Ä‘oáº¡n Ä‘Æ°á»ng bá»‹ cháº·n
- `start`: Node báº¯t Ä‘áº§u
- `goal`: Node Ä‘Ã­ch

**Äáº§u ra**:
- ÄÆ°á»ng Ä‘i thay tháº¿ (náº¿u cÃ³)
- Thá»i gian di chuyá»ƒn má»›i

**Thuáº­t toÃ¡n**:
```
1. ÄÃ¡nh dáº¥u edge bá»‹ cháº·n: map.blockEdge(blockedEdgeId)

2. Gá»i thuáº­t toÃ¡n Dijkstra trÃªn Ä‘á»“ thá»‹ Ä‘Ã£ bá»‹ cháº·n:
   - Dijkstra tá»± Ä‘á»™ng bá» qua edge bá»‹ block
   - TÃ¬m Ä‘Æ°á»ng Ä‘i tá»« start â†’ goal

3. Náº¿u tÃ¬m tháº¥y Ä‘Æ°á»ng:
   - Hiá»ƒn thá»‹ Ä‘Æ°á»ng Ä‘i
   - Hiá»ƒn thá»‹ thá»i gian
   NgÆ°á»£c láº¡i:
   - ThÃ´ng bÃ¡o khÃ´ng cÃ³ Ä‘Æ°á»ng thay tháº¿

4. Bá» cháº·n táº¥t cáº£ edges: map.unblockAll()
```

**Äáº·c Ä‘iá»ƒm**:
- TÃ¡i sá»­ dá»¥ng thuáº­t toÃ¡n Dijkstra
- Thao tÃ¡c block/unblock edge an toÃ n
- CÃ³ thá»ƒ tÃ¬m nhiá»u Ä‘Æ°á»ng thay tháº¿ báº±ng cÃ¡ch block nhiá»u edges

**Äá»™ phá»©c táº¡p**:
- **Thá»i gian**: O((V + E) log V) - giá»‘ng Dijkstra
- **KhÃ´ng gian**: O(V + E)

---

### 3.3 Thuáº­t ToÃ¡n Traffic Optimization

**File**: `TrafficOptimization.cpp`

#### 3.3.1 PhÃ¡t Hiá»‡n Ã™n Táº¯c Tá»± Äá»™ng (Automatic Congestion Detection)

**Má»¥c Ä‘Ã­ch**: QuÃ©t toÃ n bá»™ há»‡ thá»‘ng Ä‘á»ƒ tÃ¬m cÃ¡c tuyáº¿n Ä‘Æ°á»ng bá»‹ quÃ¡ táº£i.

**Thuáº­t toÃ¡n**:
```
Function detectCongestedRoads():
    congestedRoads = []
    
    For each edge in map:
        If edge.flow > edge.capacity:
            congestionInfo = {
                edgeId: edge.id,
                edgeName: edge.name,
                srcNode: edge.src,
                dstNode: edge.dst,
                flow: edge.flow,
                capacity: edge.capacity,
                congestionRatio: flow / capacity,
                overloadPercent: ((flow - capacity) / capacity) Ã— 100
            }
            congestedRoads.append(congestionInfo)
    
    Sort congestedRoads by congestionRatio (descending)
    Return congestedRoads
```

**Äá»™ phá»©c táº¡p**:
- **Thá»i gian**: O(E log E) - O(E) cho scan + O(E log E) cho sort
- **KhÃ´ng gian**: O(E)

---

#### 3.3.2 TÃ¬m ÄÆ°á»ng VÃ²ng (Bypass Route Generation)

**Má»¥c Ä‘Ã­ch**: Táº¡o cÃ¡c phÆ°Æ¡ng Ã¡n Ä‘Æ°á»ng vÃ²ng Ä‘á»ƒ giáº£m táº£i cho Ä‘Æ°á»ng bá»‹ táº¯c.

**Thuáº­t toÃ¡n**:
```
Function findPotentialNewRoads(congestedEdge, budget):
    proposals = []
    
    // Kiá»ƒm tra quÃ¡ táº£i
    If flow â‰¤ capacity:
        Return []
    
    roadCost = congestedEdge.budget
    src = congestedEdge.src
    dst = congestedEdge.dst
    
    // Cáº¤P 1: XÃ¢y dá»±ng Ä‘Æ°á»ng má»›i (budget â‰¥ roadCost)
    If budget â‰¥ roadCost:
        For each intermediateNode in map:
            If node != src AND node != dst:
                // Kiá»ƒm tra cÃ³ Ä‘Æ°á»ng tá»« src â†’ intermediate
                path1 = findShortestPath(src, intermediate)
                // Kiá»ƒm tra cÃ³ Ä‘Æ°á»ng tá»« intermediate â†’ dst  
                path2 = findShortestPath(intermediate, dst)
                
                If path1 exists AND path2 exists:
                    proposal = createBypassProposal(
                        src, dst, intermediate,
                        type: NEW_ROAD
                    )
                    proposals.append(proposal)
        
        // TÃ¬m chuá»—i Ä‘Æ°á»ng liá»n ká» bá»‹ táº¯c
        adjacentCongested = findAdjacentCongestedRoads(congestedEdge)
        If adjacentCongested.length â‰¥ 2:
            totalCost = sum(edge.budget for edge in adjacentCongested)
            If budget > (2/3) Ã— totalCost:
                proposal = createDirectBypassProposal(adjacentCongested)
                proposals.append(proposal)
    
    // Cáº¤P 2: Má»Ÿ rá»™ng lÃ n Ä‘Æ°á»ng (roadCost/3 â‰¤ budget < roadCost)
    Else If budget â‰¥ roadCost/3 AND budget < roadCost:
        proposal = createExpandLanesProposal(congestedEdge)
        proposals.append(proposal)
    
    // Cáº¤P 3: Giáº£i phÃ¡p khÃ´ng xÃ¢y dá»±ng (budget < roadCost/3)
    Else:
        Return [] // Sáº½ hiá»ƒn thá»‹ giáº£i phÃ¡p quáº£n lÃ½ Ä‘Ã¨n tÃ­n hiá»‡u
    
    Return proposals
```

**Æ¯á»›c tÃ­nh chi phÃ­ vÃ  hiá»‡u quáº£**:
```
NEW_ROAD:
- Chi phÃ­ = averageCost Ã— 1.75
- Giáº£m lÆ°u lÆ°á»£ng: 30-60% tÃ¹y loáº¡i Ä‘Æ°á»ng
- Thá»i gian tiáº¿t kiá»‡m: ~10 phÃºt

EXPAND_LANES:
- Chi phÃ­ = roadCost Ã— 0.5
- TÄƒng sá»©c chá»©a: +40%
- KhÃ´ng giáº£m lÆ°u lÆ°á»£ng, nhÆ°ng tÄƒng kháº£ nÄƒng xá»­ lÃ½

DIRECT_BYPASS:
- Chi phÃ­ = tá»•ng chi phÃ­ chuá»—i Ä‘Æ°á»ng Ã— 0.9
- Giáº£m lÆ°u lÆ°á»£ng: ~50% tá»•ng lÆ°u lÆ°á»£ng
- Giáº£i phÃ¡p tá»‘i Æ°u cho chuá»—i Ä‘Æ°á»ng táº¯c liá»n ká»
```

**Äá»™ phá»©c táº¡p**:
- **Thá»i gian**: O(V Ã— (V + E) log V)
  - Loop qua V intermediate nodes
  - Má»—i láº§n gá»i Dijkstra: O((V + E) log V)
- **KhÃ´ng gian**: O(V + E)

---

#### 3.3.3 TÃ¬m ÄÆ°á»ng Liá»n Ká» Bá»‹ Táº¯c

**Má»¥c Ä‘Ã­ch**: PhÃ¡t hiá»‡n chuá»—i cÃ¡c Ä‘Æ°á»ng liá»n ká» Ä‘á»u bá»‹ Ã¹n táº¯c.

**Thuáº­t toÃ¡n**:
```
Function findAdjacentCongestedRoads(startEdge):
    path = [startEdge.id]
    currentNode = startEdge.dst
    visited = {startEdge.id}
    
    // TÃ¬m Ä‘Æ°á»ng tiáº¿p theo tá»« dst cá»§a edge hiá»‡n táº¡i
    While true:
        found = false
        For each edge in outgoingEdges(currentNode):
            If edge.id not in visited AND isOverCapacity(edge):
                path.append(edge.id)
                visited.add(edge.id)
                currentNode = edge.dst
                found = true
                Break
        
        If not found:
            Break
    
    Return path
```

**VÃ­ dá»¥**: Náº¿u Bâ†’E, Eâ†’F, Fâ†’G Ä‘á»u bá»‹ táº¯c, thuáº­t toÃ¡n sáº½ tráº£ vá» [E02, E03, E04].

**Äá»™ phá»©c táº¡p**:
- **Thá»i gian**: O(E) - trong worst case duyá»‡t táº¥t cáº£ edges
- **KhÃ´ng gian**: O(E)

---

#### 3.3.4 Lá»±a Chá»n PhÆ°Æ¡ng Ãn Tá»‘t Nháº¥t

**Má»¥c Ä‘Ã­ch**: Chá»n phÆ°Æ¡ng Ã¡n cÃ³ hiá»‡u quáº£ cao nháº¥t tá»« danh sÃ¡ch Ä‘á» xuáº¥t.

**Thuáº­t toÃ¡n**:
```
Function selectBestProposal(proposals):
    If proposals is empty:
        Return null
    
    bestProposal = proposals[0]
    bestScore = -âˆ
    
    For each proposal in proposals:
        // TÃ­nh Ä‘iá»ƒm dá»±a trÃªn:
        // 1. Giáº£m lÆ°u lÆ°á»£ng (traffic reduction)
        // 2. Chi phÃ­ (cost - cÃ ng tháº¥p cÃ ng tá»‘t)
        // 3. Thá»i gian tiáº¿t kiá»‡m (time saved)
        
        score = (trafficReduction Ã— 100) / estimatedCost + travelTimeSaved
        
        If score > bestScore:
            bestScore = score
            bestProposal = proposal
    
    Return bestProposal
```

**CÃ´ng thá»©c Ä‘iá»ƒm**: 
```
score = (traffic_reduction_percent Ã— 100) / cost_billions + time_saved_minutes
```

**Äá»™ phá»©c táº¡p**:
- **Thá»i gian**: O(n) vá»›i n = sá»‘ phÆ°Æ¡ng Ã¡n
- **KhÃ´ng gian**: O(1)

---

#### 3.3.5 TÃ­nh NgÃ¢n SÃ¡ch Tá»‘i Thiá»ƒu

**Má»¥c Ä‘Ã­ch**: Æ¯á»›c tÃ­nh ngÃ¢n sÃ¡ch cáº§n thiáº¿t khi khÃ´ng Ä‘á»§ ngÃ¢n sÃ¡ch.

**Thuáº­t toÃ¡n**:
```
Function estimateMinimumBudget(congestedEdge):
    If congestedEdge.budget > 0:
        // Láº¥y 1/3 chi phÃ­ Ä‘Æ°á»ng lÃ m ngÃ¢n sÃ¡ch tá»‘i thiá»ƒu
        // (Ä‘á»ƒ cÃ³ thá»ƒ má»Ÿ rá»™ng lÃ n Ä‘Æ°á»ng)
        Return congestedEdge.budget / 3.0
    Else:
        // Náº¿u khÃ´ng cÃ³ thÃ´ng tin, dÃ¹ng giÃ¡ trá»‹ máº·c Ä‘á»‹nh
        Return DEFAULT_NEW_ROAD_COST / 3.0
```

**Äá»™ phá»©c táº¡p**: O(1)

---

### 3.4 Giáº£i PhÃ¡p Quáº£n LÃ½ ÄÃ¨n TÃ­n Hiá»‡u

**Má»¥c Ä‘Ã­ch**: Äá» xuáº¥t giáº£i phÃ¡p khÃ´ng cáº§n xÃ¢y dá»±ng khi ngÃ¢n sÃ¡ch khÃ´ng Ä‘á»§.

**CÃ¡c giáº£i phÃ¡p**:

1. **Äiá»u Chá»‰nh Thá»i Gian ÄÃ¨n TÃ­n Hiá»‡u**
   - TÄƒng thá»i gian Ä‘Ã¨n xanh cho hÆ°á»›ng chÃ­nh
   - Chi phÃ­: 5-10 tá»· VNÄ
   - Thá»i gian: 2-4 tuáº§n

2. **Äiá»u Tiáº¿t Luá»“ng Giao ThÃ´ng**
   - Háº¡n cháº¿ xe táº£i trong giá» cao Ä‘iá»ƒm
   - KhÃ´ng cáº§n ngÃ¢n sÃ¡ch xÃ¢y dá»±ng
   - Chá»‰ cáº§n biá»ƒn bÃ¡o vÃ  giÃ¡m sÃ¡t

3. **Quáº£n LÃ½ Tá»‘c Äá»™**
   - Äiá»u chá»‰nh giá»›i háº¡n tá»‘c Ä‘á»™
   - Cáº£i thiá»‡n luá»“ng giao thÃ´ng Ä‘á»u Ä‘áº·n

4. **GiÃ¡m SÃ¡t vÃ  Äiá»u Phá»‘i**
   - Camera giÃ¡m sÃ¡t
   - Há»‡ thá»‘ng Ä‘iá»u khiá»ƒn thÃ­ch á»©ng

5. **ThÃ´ng Tin vÃ  Cáº£nh BÃ¡o**
   - á»¨ng dá»¥ng di Ä‘á»™ng
   - Báº£ng Ä‘iá»‡n tá»­ thÃ´ng bÃ¡o

---

## 4. PhÃ¢n TÃ­ch Äá»™ Phá»©c Táº¡p

### 4.1 Báº£ng Tá»•ng Há»£p

| Thuáº­t toÃ¡n | Best Case | Average Case | Worst Case | KhÃ´ng gian |
|-----------|-----------|--------------|------------|------------|
| Dijkstra | O((V+E) log V) | O((V+E) log V) | O((V+E) log V) | O(V) |
| Alternative Route | O((V+E) log V) | O((V+E) log V) | O((V+E) log V) | O(V) |
| Congestion Detection | O(E) | O(E log E) | O(E log E) | O(E) |
| Bypass Generation | O(VÂ² log V) | O(VE log V) | O(VE log V) | O(V+E) |
| Adjacent Road Finding | O(1) | O(E/2) | O(E) | O(E) |

### 4.2 Giáº£i ThÃ­ch

**Dijkstra - O((V+E) log V)**:
- Sá»­ dá»¥ng min-heap (priority_queue)
- Má»—i node Ä‘Æ°á»£c pop 1 láº§n: V Ã— log V
- Má»—i edge Ä‘Æ°á»£c relax tá»‘i Ä‘a 1 láº§n: E Ã— log V
- Tá»•ng: O((V+E) log V)

**Bypass Generation - O(V Ã— (V+E) log V)**:
- Loop qua V intermediate nodes
- Vá»›i má»—i node, cháº¡y 2 láº§n Dijkstra
- Má»—i Dijkstra: O((V+E) log V)
- Tá»•ng: O(V Ã— (V+E) log V)

---

## 5. Cáº¥u TrÃºc Dá»¯ Liá»‡u

### 5.1 Node (Äiá»ƒm Giao Lá»™)

```cpp
struct Node {
    string id;          // ID duy nháº¥t (vÃ­ dá»¥: "A", "B")
    string name;        // TÃªn node (vÃ­ dá»¥: "NgÃ£ TÆ° HÃ ng Xanh")
    double latitude;    // VÄ© Ä‘á»™
    double longitude;   // Kinh Ä‘á»™
};
```

### 5.2 Edge (Äoáº¡n ÄÆ°á»ng)

```cpp
struct Edge {
    string id;          // ID Ä‘oáº¡n Ä‘Æ°á»ng (vÃ­ dá»¥: "E01")
    string name;        // TÃªn Ä‘Æ°á»ng (vÃ­ dá»¥: "ÄÆ°á»ng Nguyá»…n Huá»‡")
    double length;      // Äá»™ dÃ i (km)
    double speed;       // Tá»‘c Ä‘á»™ cho phÃ©p (km/h)
    double capacity;    // Sá»©c chá»©a (xe/giá»)
    double flow;        // LÆ°u lÆ°á»£ng hiá»‡n táº¡i (xe/giá»)
    double budget;      // Chi phÃ­ xÃ¢y dá»±ng (tá»· VNÄ)
    string src;         // Node nguá»“n
    string dst;         // Node Ä‘Ã­ch
    Direction direction; // ONE_WAY, TWO_WAY
    RoadType type;      // MAIN_ROAD, SECONDARY_ROAD, etc.
    bool isBlocked;     // CÃ³ bá»‹ cháº·n khÃ´ng
    bool isReverse;     // LÃ  Ä‘Æ°á»ng chiá»u ngÆ°á»£c khÃ´ng
    
    // PhÆ°Æ¡ng thá»©c tÃ­nh thá»i gian
    double travelTime() const {
        return (speed > 0) ? (length / speed) * 60 : 999999;
    }
};
```

### 5.3 NewRoadProposal (Äá» Xuáº¥t XÃ¢y Dá»±ng)

```cpp
struct NewRoadProposal {
    string srcNode;             // Node báº¯t Ä‘áº§u
    string dstNode;             // Node káº¿t thÃºc
    string intermediateNode;    // Node trung gian (cho Ä‘Æ°á»ng 2 Ä‘oáº¡n)
    double estimatedCost;       // Chi phÃ­ Æ°á»›c tÃ­nh (tá»· VNÄ)
    double trafficReduction;    // Giáº£m lÆ°u lÆ°á»£ng (%)
    double travelTimeSaved;     // Thá»i gian tiáº¿t kiá»‡m (phÃºt)
    string reasoning;           // LÃ½ do Ä‘á» xuáº¥t
    bool isTwoSegment;          // ÄÆ°á»ng 2 Ä‘oáº¡n hay khÃ´ng
    ProposalType type;          // NEW_ROAD, EXPAND_LANES, DIRECT_BYPASS
    vector<string> congestedPath; // Chuá»—i Ä‘Æ°á»ng táº¯c (cho DIRECT_BYPASS)
};
```

### 5.4 CongestionInfo (ThÃ´ng Tin Ã™n Táº¯c)

```cpp
struct CongestionInfo {
    string edgeId;              // ID Ä‘oáº¡n Ä‘Æ°á»ng
    string edgeName;            // TÃªn Ä‘oáº¡n Ä‘Æ°á»ng
    string srcNode;             // Node nguá»“n
    string dstNode;             // Node Ä‘Ã­ch
    double flow;                // LÆ°u lÆ°á»£ng (xe/giá»)
    double capacity;            // Sá»©c chá»©a (xe/giá»)
    double congestionRatio;     // Tá»· lá»‡ = flow/capacity
    double overloadPercent;     // % quÃ¡ táº£i = (flow-capacity)/capacity Ã— 100
};
```

### 5.5 RoadMap (Äá»“ Thá»‹ Giao ThÃ´ng)

```cpp
class RoadMap {
private:
    unordered_map<string, Node> nodes_;
    vector<Edge> edges_;
    unordered_map<string, vector<Edge>> adjList_; // Adjacency list
    
public:
    // Quáº£n lÃ½ nodes
    void addNode(const Node& node);
    bool hasNode(const string& id);
    vector<string> getNodeIds();
    
    // Quáº£n lÃ½ edges
    void addEdge(const Edge& edge);
    bool hasEdge(const string& id);
    Edge* getEdgeById(const string& id);
    vector<Edge> getEdges();
    vector<Edge> outgoingEdges(const string& nodeId);
    
    // Cháº·n/Bá» cháº·n Ä‘Æ°á»ng
    void blockEdge(const string& edgeId);
    void unblockAll();
    
    // Load tá»« file
    bool loadFromFile(const string& filename);
};
```

**Cáº¥u trÃºc adjacency list**:
```
adjList_["A"] = [Edge(Aâ†’B), Edge(Aâ†’C), Edge(Aâ†’D)]
adjList_["B"] = [Edge(Bâ†’E), Edge(Bâ†’F)]
...
```

---

## 6. Äá»‹nh Dáº¡ng File Dá»¯ Liá»‡u

### 6.1 File map.txt

```
<sá»‘_lÆ°á»£ng_nodes>
<node_id> <node_name> <latitude> <longitude>
...

<sá»‘_lÆ°á»£ng_edges>
<edge_id> <edge_name> <length> <speed> <capacity> <flow> <budget> <src> <dst> <direction> <type>
...
```

**VÃ­ dá»¥**:
```
10
A NGA_TU_A 10.7756 106.7019
B NGA_TU_B 10.7812 106.7042
C NGA_TU_C 10.7889 106.7088

18
E01 DUONG_AB 2.5 60 2000 1800 50000 A B ONE_WAY MAIN_ROAD
E02 DUONG_BC 3.2 50 1500 1600 35000 B C ONE_WAY SECONDARY_ROAD
```

**Giáº£i thÃ­ch cÃ¡c trÆ°á»ng**:
- `direction`: ONE_WAY (má»™t chiá»u), TWO_WAY (hai chiá»u)
- `type`: MAIN_ROAD (Ä‘Æ°á»ng chÃ­nh), SECONDARY_ROAD (Ä‘Æ°á»ng phá»¥), HIGHWAY (cao tá»‘c), LOCAL_ROAD (Ä‘Æ°á»ng ná»™i bá»™)

---

## 7. Káº¿t Luáº­n

### 7.1 Äiá»ƒm Máº¡nh

1. **Hiá»‡u quáº£**: Sá»­ dá»¥ng Dijkstra vá»›i priority queue Ä‘áº£m báº£o hiá»‡u suáº¥t tá»‘t
2. **Linh hoáº¡t**: Há»— trá»£ nhiá»u loáº¡i phÃ¢n tÃ­ch vÃ  tá»‘i Æ°u hÃ³a
3. **Thá»±c táº¿**: TÃ­nh toÃ¡n dá»±a trÃªn dá»¯ liá»‡u thá»±c (lÆ°u lÆ°á»£ng, sá»©c chá»©a, ngÃ¢n sÃ¡ch)
4. **Má»Ÿ rá»™ng**: Dá»… dÃ ng thÃªm thuáº­t toÃ¡n vÃ  tÃ­nh nÄƒng má»›i

### 7.2 Háº¡n Cháº¿ vÃ  Cáº£i Tiáº¿n Tiá»m NÄƒng

1. **Dijkstra khÃ´ng tá»‘i Æ°u vá»›i trá»ng sá»‘ Ã¢m**: KhÃ´ng váº¥n Ä‘á» vÃ¬ thá»i gian di chuyá»ƒn luÃ´n dÆ°Æ¡ng
2. **ChÆ°a xá»­ lÃ½ giao thÃ´ng Ä‘á»™ng**: CÃ³ thá»ƒ má»Ÿ rá»™ng vá»›i thuáº­t toÃ¡n A* vÃ  cáº­p nháº­t real-time
3. **Æ¯á»›c tÃ­nh chi phÃ­ Ä‘Æ¡n giáº£n**: CÃ³ thá»ƒ cáº£i thiá»‡n báº±ng machine learning
4. **ChÆ°a tá»‘i Æ°u toÃ n cá»¥c**: CÃ³ thá»ƒ Ã¡p dá»¥ng thuáº­t toÃ¡n tá»‘i Æ°u hÃ³a máº¡ng lÆ°á»›i (Network Flow)

### 7.3 Khuyáº¿n Nghá»‹ Sá»­ Dá»¥ng

- **Dijkstra**: PhÃ¹ há»£p vá»›i máº¡ng lÆ°á»›i giao thÃ´ng Ä‘Ã´ thá»‹ (V < 10,000, E < 50,000)
- **Bypass Generation**: NÃªn giá»›i háº¡n sá»‘ intermediate nodes khi V lá»›n
- **Budget Optimization**: Cáº§n cáº­p nháº­t chi phÃ­ xÃ¢y dá»±ng thÆ°á»ng xuyÃªn

---

## 8. TÃ i Liá»‡u Tham Kháº£o

1. **Dijkstra's Algorithm**: 
   - Dijkstra, E. W. (1959). "A note on two problems in connexion with graphs"

2. **Graph Theory**:
   - Cormen, T. H., et al. (2009). "Introduction to Algorithms" (3rd ed.)

3. **Traffic Optimization**:
   - Wardrop, J. G. (1952). "Some Theoretical Aspects of Road Traffic Research"

4. **Data Structures**:
   - Skiena, S. S. (2008). "The Algorithm Design Manual" (2nd ed.)

---

**NgÃ y táº¡o**: 2025-12-16  
**PhiÃªn báº£n**: 1.0  
**TÃ¡c giáº£**: Traffic Map Analysis System Development Team
